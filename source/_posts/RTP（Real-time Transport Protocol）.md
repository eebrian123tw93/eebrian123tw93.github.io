---
title: RTP（Real-time Transport Protocol）
categories: []
date: '2024-12-23 17:46:00'
updated: '2025-02-19 08:51:03'
description: ''
abbrlink: fcb5500e
tags:
  - WebRTC
keywords:
  - WebRTC
---
RTP（Real-time Transport Protocol）是一个用于在互联网上传输实时音频和视频的网络传输协议。它被广泛用于流媒体、VoIP（网络电话）、视频会议等实时通信领域。以下是关于 RTP 的一些核心概念和特性：

---

### **1. RTP 的主要功能**

- **数据传输**：RTP 提供了一种实时传输音频和视频的机制，允许多媒体数据被分割成小的数据包进行传输。
- **时间同步**：RTP 使用时间戳（timestamp）来帮助接收端同步数据流，例如在音视频同步中至关重要。
 <!-- more -->
 - **序列号**：每个 RTP 数据包都有一个序列号，用于检测丢包和重新排序。
- **实时传输控制**：通过 RTP 的控制协议（RTCP），实现网络状态监控和服务质量反馈。

---

### **2. RTP 的协议栈**

RTP 工作在传输层协议（通常是 UDP）之上，但它本身不提供传输可靠性：

- **应用层**：负责具体的多媒体应用（如音频、视频编解码）。
- **RTP 层**：处理实时传输功能。
- **传输层（通常为 UDP）**：提供快速、低延迟的数据传输。

---

### **3. RTP 数据包结构**

一个 RTP 数据包通常包含以下字段：

1. **版本号（Version）**：标识 RTP 的版本，目前为 2。
2. **填充（Padding）**：用于数据填充。
3. **扩展（Extension）**：标识是否有额外的扩展头。
4. **标志位（CSRC Count）**：标识 CSRC 标识符的数量。
5. **标记（Marker）**：用于特定事件的标记。
6. **负载类型（Payload Type）**：指示负载的类型（如音频或视频编码格式）。
7. **序列号（Sequence Number）**：检测丢包和包重排序。
8. **时间戳（Timestamp）**：同步媒体数据流。
9. **同步源标识符（SSRC）**：标识流的源。
10. **贡献源标识符（CSRC）**：标识贡献流的源（通常在混音场景中使用）。

---

### **4. RTP 和 RTCP**

- **RTP（Real-time Transport Protocol）**：
    - 主要负责实时数据的传输。
    - 示例：音频和视频的编码数据包。
- **RTCP（RTP Control Protocol）**：
    - 与 RTP 配合，用于提供控制信息。
    - 提供以下功能：
        - **QoS 反馈**：提供关于网络状况的统计信息（如丢包率、抖动等）。
        - **参与者标识**：通过 RTCP 包传输参与者的身份信息。

---

### **5. RTP 的典型应用**

- **VoIP（网络电话）**：通过 RTP 传输语音数据。
- **视频会议**：支持多个音视频流的传输和同步。
- **流媒体**：如网络直播或点播系统。
- **实时游戏**：传输实时游戏中的音视频数据。

---

### **6. RTP 的优缺点**

#### 优点：

- 适合实时数据传输。
- 支持多种负载类型（灵活性强）。
- 结合 RTCP 能提供服务质量监控。

#### 缺点：

- 不保证传输可靠性（依赖下层协议，如 UDP）。
- 无内置加密功能，需要其他协议（如 SRTP）增强安全性。